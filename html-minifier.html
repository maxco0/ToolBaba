<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML Minifier Tool – Lifetime Free</title>
    <meta name="description" content="Free online HTML Minifier. Compress your HTML code, remove comments and whitespace to improve page load speed. Client-side, secure, and lifetime free.">
    <style>
        :root {
            --primary: #2563eb;
            --primary-hover: #1d4ed8;
            --secondary: #64748b;
            --bg-body: #f8fafc;
            --bg-card: #ffffff;
            --text-main: #1e293b;
            --text-muted: #64748b;
            --border: #e2e8f0;
            --success: #22c55e;
            --radius: 12px;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            line-height: 1.6;
            padding: 20px;
        }

        /* Layout Grid */
        .page-container {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            gap: 20px;
            grid-template-areas:
                "header"
                "ad-top"
                "tool"
                "ad-bottom"
                "article";
        }

        @media (min-width: 1200px) {
            .page-container {
                grid-template-columns: 300px 1fr 300px;
                grid-template-areas:
                    "header header header"
                    "ad-top ad-top ad-top"
                    "ad-left tool ad-right"
                    "ad-bottom ad-bottom ad-bottom"
                    "article article article";
            }
        }

        /* Typography */
        h1 {
            grid-area: header;
            text-align: center;
            font-size: 2.5rem;
            color: var(--text-main);
            margin-bottom: 20px;
            font-weight: 800;
        }

        /* Ad Slots */
        .ad-slot {
            background-color: #e2e8f0;
            border: 2px dashed #cbd5e1;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #94a3b8;
            font-weight: bold;
            border-radius: var(--radius);
        }

        .ad-top { grid-area: ad-top; height: 100px; width: 100%; }
        .ad-bottom { grid-area: ad-bottom; height: 100px; width: 100%; margin-top: 20px; }
        .ad-left { grid-area: ad-left; height: 600px; display: none; }
        .ad-right { grid-area: ad-right; height: 600px; display: none; }

        @media (min-width: 1200px) {
            .ad-left, .ad-right { display: flex; }
        }

        /* Tool UI */
        .tool-box {
            grid-area: tool;
            background: var(--bg-card);
            padding: 30px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
        }

        .options-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 20px;
            padding: 15px;
            background-color: #f1f5f9;
            border-radius: var(--radius);
        }

        .checkbox-label {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            font-size: 0.95rem;
            user-select: none;
        }

        input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: var(--primary);
            cursor: pointer;
        }

        .editor-container {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            font-size: 1rem;
        }

        textarea {
            width: 100%;
            height: 250px;
            padding: 15px;
            border: 1px solid var(--border);
            border-radius: var(--radius);
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', monospace;
            font-size: 14px;
            resize: vertical;
            outline: none;
            transition: border-color 0.2s;
            background-color: #f8fafc;
        }

        textarea:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
            background-color: #fff;
        }

        .actions {
            display: flex;
            gap: 12px;
            margin-bottom: 25px;
        }

        button {
            padding: 12px 24px;
            border: none;
            border-radius: var(--radius);
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: transform 0.1s, opacity 0.2s;
        }

        button:active {
            transform: translateY(1px);
        }

        .btn-primary {
            background-color: var(--primary);
            color: white;
            flex: 2;
        }
        .btn-primary:hover { background-color: var(--primary-hover); }

        .btn-secondary {
            background-color: var(--secondary);
            color: white;
            flex: 1;
        }
        .btn-secondary:hover { opacity: 0.9; }

        .btn-success {
            background-color: var(--success);
            color: white;
            flex: 1;
        }
        .btn-success:hover { opacity: 0.9; }

        /* Stats & Output */
        .stats-bar {
            display: flex;
            justify-content: space-between;
            background: #e0f2fe;
            color: #0369a1;
            padding: 10px 15px;
            border-radius: var(--radius);
            margin-bottom: 10px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .stats-bar span {
            display: inline-block;
        }

        .output-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .hidden { display: none; }
        
        /* Message Toasts */
        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #333;
            color: #fff;
            padding: 12px 24px;
            border-radius: 50px;
            font-size: 14px;
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
            z-index: 1000;
        }
        .toast.show { opacity: 1; }

        /* Article */
        .article-box {
            grid-area: article;
            background: var(--bg-card);
            padding: 40px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
        }

        .article-box h2 {
            font-size: 1.8rem;
            margin-top: 40px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--border);
            color: var(--text-main);
        }

        .article-box h2:first-child { margin-top: 0; }

        .article-box h3 {
            font-size: 1.4rem;
            margin-top: 25px;
            margin-bottom: 15px;
            color: #334155;
        }

        .article-box p {
            margin-bottom: 1.25rem;
            color: #475569;
            font-size: 1.05rem;
        }

        .article-box ul {
            padding-left: 25px;
            margin-bottom: 20px;
        }

        .article-box li {
            margin-bottom: 10px;
            color: #475569;
        }

        /* Mobile Adjustments */
        @media (max-width: 768px) {
            h1 { font-size: 1.8rem; }
            .tool-box { padding: 20px; }
            .actions, .output-actions { flex-direction: column; }
            button { width: 100%; }
            .stats-bar { flex-direction: column; gap: 5px; text-align: center; }
        }
    </style>
</head>
<body>

<div class="page-container">
    
    <!-- Title -->
    <h1>HTML Minifier Tool – Lifetime Free</h1>

    <!-- Top Ad -->
    <div class="ad-slot ad-top">Advertisement Space (Top Banner)</div>

    <!-- Left Sidebar Ad -->
    <div class="ad-slot ad-left">Ad Space (Left)</div>

    <!-- Main Tool Interface -->
    <main class="tool-box">
        
        <!-- Options -->
        <div class="options-group">
            <label class="checkbox-label">
                <input type="checkbox" id="opt-comments" checked> Remove Comments
            </label>
            <label class="checkbox-label">
                <input type="checkbox" id="opt-whitespace" checked> Collapse Whitespace
            </label>
            <!-- Note: Inline minification in pure JS regex is limited but included as requested -->
            <label class="checkbox-label">
                <input type="checkbox" id="opt-css"> Minify Inline CSS
            </label>
            <label class="checkbox-label">
                <input type="checkbox" id="opt-js"> Minify Inline JS
            </label>
        </div>

        <!-- Input -->
        <div class="editor-container">
            <label for="inputHtml">Paste Your HTML Code:</label>
            <textarea id="inputHtml" placeholder="<!-- Paste your HTML code here -->
<!DOCTYPE html>
<html>
    <head>
        <title>Example</title>
    </head>
    <body>
        <h1>Hello World</h1>
    </body>
</html>"></textarea>
        </div>

        <!-- Action Buttons -->
        <div class="actions">
            <button class="btn-primary" onclick="minifyCode()">Minify HTML</button>
            <button class="btn-secondary" onclick="clearAll()">Clear Input</button>
        </div>

        <!-- Output Section -->
        <div class="editor-container">
            <div id="statsBar" class="stats-bar hidden">
                <span id="stat-original">Original: 0 B</span>
                <span id="stat-minified">Minified: 0 B</span>
                <span id="stat-savings">Savings: 0%</span>
            </div>
            
            <label for="outputHtml">Minified Output:</label>
            <textarea id="outputHtml" readonly placeholder="Minified code will appear here..."></textarea>
            
            <div class="output-actions">
                <button class="btn-success" onclick="copyCode()">Copy Code</button>
                <button class="btn-secondary" onclick="downloadCode()">Download .html</button>
            </div>
        </div>

    </main>

    <!-- Right Sidebar Ad -->
    <div class="ad-slot ad-right">Ad Space (Right)</div>

    <!-- Bottom Ad -->
    <div class="ad-slot ad-bottom">Advertisement Space (Bottom Banner)</div>

    <!-- SEO Article -->
    <article class="article-box">
        <h2>What is HTML Minification and Why is it Essential?</h2>
        <p>In the competitive landscape of the modern web, speed is everything. Every millisecond counts when it comes to user retention and search engine rankings. HTML Minification is a process that removes unnecessary characters from your source code without changing its functionality. These characters include white spaces, new lines, comments, and block delimiters, which are useful for human readability but are completely ignored by web browsers.</p>
        <p>Tool Baba's HTML Minifier Tool is designed to help developers and website owners streamline their code effortlessly. By reducing the size of your HTML files, you decrease the amount of data that needs to be transferred over the network, leading to faster page load times and reduced bandwidth consumption.</p>

        <h3>Why File Size Matters for Performance</h3>
        <p>When a user visits your website, their browser has to download every single byte of code before it can render the page. Large files mean longer download times. This is especially critical for mobile users who might be on slower 4G or 3G networks. Google has also explicitly stated that page speed is a ranking factor. A lighter website isn't just user-friendly; it is SEO-friendly.</p>
        
        <h2>How This Browser-Based Minifier Works</h2>
        <p>Unlike many other tools that require you to upload your files to a server, our HTML Minifier runs entirely in your browser using "Client-Side" technology. When you click the "Minify" button, your code is processed by your own computer's processor using JavaScript. This approach offers significant advantages:</p>
        <ul>
            <li><strong>Speed:</strong> There is no latency waiting for a server to process your request and send it back.</li>
            <li><strong>Privacy:</strong> Your code never leaves your device. This is crucial if you are working on proprietary code or sensitive client data.</li>
            <li><strong>Reliability:</strong> You can use this tool even if you are offline, as long as the page is already loaded.</li>
        </ul>

        <h2>Understanding the Minification Process</h2>
        <p>What exactly happens when you minify your code? Here is a breakdown of the common operations performed by our tool:</p>
        
        <h3>1. Removing Comments</h3>
        <p>Developers leave comments in code to explain logic or temporarily disable sections (e.g., <code>&lt;!-- This is a comment --&gt;</code>). Browsers download these comments but don't display them. Our tool strips them out completely to save space.</p>

        <h3>2. Collapsing Whitespace</h3>
        <p>For humans, indentation and line breaks make code readable. For a machine, <code>&lt;div&gt;   &lt;/div&gt;</code> is the same as <code>&lt;div&gt;&lt;/div&gt;</code>. The minifier detects sequences of spaces, tabs, and newlines and replaces them with a single space or removes them entirely where safe.</p>

        <h3>3. Inline CSS and JavaScript Optimization</h3>
        <p>Modern websites often contain small snippets of CSS in <code>&lt;style&gt;</code> tags or JS in <code>&lt;script&gt;</code> tags. Advanced minification can also strip whitespace from within these blocks, ensuring that every part of your document is as compact as possible.</p>

        <h2>Common Mistakes to Avoid</h2>
        <p>While minification is powerful, it must be done carefully. Aggressive minification can sometimes break a website layout if not handled correctly. For example, removing spaces between inline elements (like two <code>&lt;span&gt;</code> tags next to each other) can actually change the visual rendering, causing words to smash together. Our tool is tuned to be "safe" by default, preserving necessary spaces to maintain your layout integrity.</p>
        <p>Additionally, always keep a backup of your original "source" code. Minified code is extremely difficult for humans to read or debug. You should always develop in your clean, expanded version and only minify the final output for production.</p>

        <h2>Mobile vs. Desktop Usage</h2>
        <p>We have designed the Tool Baba HTML Minifier to be responsive. On a desktop, you have ample screen real estate to view your original code side-by-side with the minified result (conceptually). On mobile devices, the layout adapts to a vertical stack, hiding non-essential elements like side ads to focus purely on the utility. This allows you to perform quick optimizations on the go, perhaps when you need to send a quick code snippet via a chat app.</p>

        <h2>Why Tool Baba Provides This for Free?</h2>
        <p>We believe in the open web. Tools that help make the internet faster and more efficient should be accessible to everyone, from students learning their first HTML tags to senior engineers deploying enterprise applications. There are no paywalls, no login requirements, and no daily limits. Use the tool as much as you need.</p>

        <h2>Conclusion</h2>
        <p>Optimizing your HTML is a "low-hanging fruit" in web performance optimization. It is easy to do, risk-free if you keep backups, and provides immediate benefits in file size reduction. Start using the HTML Minifier Tool today and make your web pages fly.</p>
    </article>

</div>

<div id="toast" class="toast">Message</div>

<script>
    // Utility: Format bytes to human readable
    function formatBytes(bytes, decimals = 2) {
        if (bytes === 0) return '0 B';
        const k = 1024;
        const dm = decimals < 0 ? 0 : decimals;
        const sizes = ['B', 'KB', 'MB', 'GB'];
        const i = Math.floor(Math.log(bytes) / Math.log(k));
        return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];
    }

    // Utility: Toast Notification
    function showToast(message) {
        const toast = document.getElementById('toast');
        toast.textContent = message;
        toast.classList.add('show');
        setTimeout(() => toast.classList.remove('show'), 3000);
    }

    // Utility: Text Encoder for byte size
    function getByteSize(str) {
        return new Blob([str]).size;
    }

    function clearAll() {
        document.getElementById('inputHtml').value = '';
        document.getElementById('outputHtml').value = '';
        document.getElementById('statsBar').classList.add('hidden');
    }

    // Main Minification Logic
    function minifyCode() {
        const input = document.getElementById('inputHtml').value;
        if (!input.trim()) {
            showToast("Please enter HTML code first.");
            return;
        }

        const removeComments = document.getElementById('opt-comments').checked;
        const collapseWhitespace = document.getElementById('opt-whitespace').checked;
        const minifyCss = document.getElementById('opt-css').checked;
        const minifyJs = document.getElementById('opt-js').checked;

        let output = input;

        // 1. Remove Comments (Safe approach: Keep conditional comments if needed, but here we remove standard ones)
        if (removeComments) {
            output = output.replace(/<!--[\s\S]*?-->/g, "");
        }

        // 2. Minify Inline Style Blocks
        if (minifyCss) {
            output = output.replace(/<style\b[^>]*>([\s\S]*?)<\/style>/g, function(match, css) {
                // Simple regex CSS minifier: remove comments and extra whitespace
                let minCss = css.replace(/\/\*[\s\S]*?\*\//g, "") // Remove CSS comments
                                .replace(/\s+/g, " ")             // Collapse whitespace
                                .replace(/\s*([{}:;,])\s*/g, "$1") // Remove space around separators
                                .trim();
                return match.replace(css, minCss);
            });
        }

        // 3. Minify Inline Script Blocks
        if (minifyJs) {
            output = output.replace(/<script\b[^>]*>([\s\S]*?)<\/script>/g, function(match, js) {
                // Very conservative JS minifier to avoid breaking code
                // Only collapse multiple spaces/tabs into single space and trim lines
                // We do NOT remove line breaks in JS blindly as it breaks automatic semicolon insertion
                // We do NOT remove // comments blindly as they might be in strings (complex parsing needed)
                let lines = js.split('\n');
                let minJs = lines.map(line => line.trim()).filter(line => line.length > 0).join('\n');
                return match.replace(js, minJs);
            });
        }

        // 4. Collapse Whitespace (The tricky part)
        if (collapseWhitespace) {
            // Strategy: 
            // a. Replace multiple whitespace characters with a single space
            // b. Remove whitespace between tags (careful about inline elements)
            
            // Note: We need to protect <pre> and <textarea> contents
            const protected = [];
            
            // Protect PRE, TEXTAREA, SCRIPT, STYLE (if not minified above, or to protect structure)
            // We use a placeholder system
            let placeholderIndex = 0;
            
            const protectTags = (tagName) => {
                const regex = new RegExp(`<${tagName}\\b[^>]*>([\\s\\S]*?)<\\/${tagName}>`, 'gi');
                output = output.replace(regex, (match) => {
                    const placeholder = `___PROTECTED_${tagName}_${placeholderIndex++}___`;
                    protected.push({ placeholder, content: match });
                    return placeholder;
                });
            };

            // Protect sensitive tags
            protectTags('pre');
            protectTags('textarea');
            // If JS/CSS weren't minified, protect them too so global HTML whitespace collapse doesn't break them
            if (!minifyJs) protectTags('script');
            if (!minifyCss) protectTags('style');

            // Apply whitespace collapse to the HTML structure
            output = output.replace(/\s+/g, ' '); // Collapse all whitespace to one space
            output = output.replace(/>\s+</g, '><'); // Remove space between tags completely (aggressive but standard for minifiers)
            
            // Restore protected content
            protected.forEach(item => {
                output = output.replace(item.placeholder, item.content);
            });
        }

        // Update Output
        document.getElementById('outputHtml').value = output;

        // Calculate Stats
        const originalBytes = getByteSize(input);
        const minifiedBytes = getByteSize(output);
        const savedBytes = originalBytes - minifiedBytes;
        const savedPercent = originalBytes > 0 ? ((savedBytes / originalBytes) * 100).toFixed(2) : 0;

        document.getElementById('stat-original').innerText = `Original: ${formatBytes(originalBytes)}`;
        document.getElementById('stat-minified').innerText = `Minified: ${formatBytes(minifiedBytes)}`;
        document.getElementById('stat-savings').innerText = `Savings: ${savedPercent}%`;
        document.getElementById('statsBar').classList.remove('hidden');

        showToast("Minification Complete!");
    }

    function copyCode() {
        const output = document.getElementById('outputHtml');
        if (!output.value) {
            showToast("Nothing to copy!");
            return;
        }
        
        output.select();
        output.setSelectionRange(0, 99999); // Mobile support
        
        navigator.clipboard.writeText(output.value).then(() => {
            showToast("Copied to clipboard!");
        }).catch(() => {
            showToast("Failed to copy.");
        });
    }

    function downloadCode() {
        const output = document.getElementById('outputHtml').value;
        if (!output) {
            showToast("Nothing to download!");
            return;
        }

        const blob = new Blob([output], { type: 'text/html' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'minified.html';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
        showToast("Download started!");
    }
</script>

</body>
</html>